!function($){"use strict";var mapping=wcpt_customizer_mapping||{};function throttle(func,limit){var inThrottle;return function(){var args=arguments,context=this;inThrottle||(func.apply(context,args),inThrottle=!0,setTimeout((function(){inThrottle=!1}),limit))}}function updateCSSVariable(settingId,value){var selector=mapping[settingId];if(selector){var styleId="wcpt-customizer-"+settingId,style=document.getElementById(styleId);if(value){var css=selector.replace("%val%",value);style||((style=document.createElement("style")).id=styleId,document.body.appendChild(style)),style.textContent=css,value&&Object.keys(wcpt_selector_relations).forEach((function(key){selector.includes(key)&&(style.textContent+="\n"+wcpt_selector_relations[key])}))}else style&&style.remove()}else console.warn("No mapping found for setting:",settingId)}function bindToSetting(settingId){var fullSettingId="wcpt_theme_customizer["+settingId+"]",setting=wp.customize(fullSettingId);setting&&setting.bind((function(value){updateCSSVariable(settingId,value),window.wcptCustomizer.onChange&&window.wcptCustomizer.onChange(settingId,value)}))}wp.customize.bind("preview-ready",(function(){Object.keys(mapping).forEach((function(settingId){bindToSetting(settingId)}))})),window.wcptCustomizer={setChangeCallback:function(callback){"function"==typeof callback&&(this.onChange=throttle(callback,250))}},window.wcptCustomizer.setChangeCallback((function(settingId,value){$(".wcpt").trigger("wcpt_layout",{source:"customizer"})}))}(jQuery);